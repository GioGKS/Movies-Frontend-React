{"ast":null,"code":"var _jsxFileName = \"/Users/gio/Desktop/Project-Clone/Movies-Frontend-React/src/auth/Register.tsx\",\n  _s = $RefreshSig$();\nimport axios from \"axios\";\nimport { urlAccounts } from '../endpoints';\nimport { useContext, useState } from \"react\";\nimport DisplayErrors from '../utils/DisplayErrors';\nimport AuthForm from \"./AuthForm\";\nimport { getClaims, saveToken } from \"./handleJWT\";\nimport AuthenticationContext from \"./AuthenticationContext\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Register() {\n  _s();\n  const [errors, setErrors] = useState([]);\n  const {\n    update\n  } = useContext(AuthenticationContext);\n  const history = useNavigate();\n  async function register(credentials) {\n    try {\n      setErrors([]);\n      const response = await axios.post(`${urlAccounts}/create`, credentials);\n      saveToken(response.data);\n      update(getClaims());\n      history('/');\n    } catch (error) {\n      setErrors(error.response.data);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Register\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(DisplayErrors, {\n      errors: errors\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(AuthForm, {\n      model: {\n        email: '',\n        password: ''\n      },\n      onSubmit: async values => await register(values)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n_s(Register, \"hsWaqnarG2SQPcthfq26FwpVIMo=\", false, function () {\n  return [useNavigate];\n});\n_c = Register;\nvar _c;\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["axios","urlAccounts","useContext","useState","DisplayErrors","AuthForm","getClaims","saveToken","AuthenticationContext","useNavigate","jsxDEV","_jsxDEV","Fragment","_Fragment","Register","_s","errors","setErrors","update","history","register","credentials","response","post","data","error","children","fileName","_jsxFileName","lineNumber","columnNumber","model","email","password","onSubmit","values","_c","$RefreshReg$"],"sources":["/Users/gio/Desktop/Project-Clone/Movies-Frontend-React/src/auth/Register.tsx"],"sourcesContent":["import axios from \"axios\";\nimport { authenticationResponse, userCredentials } from \"./auth.models\";\nimport {urlAccounts} from '../endpoints';\nimport { useContext, useState } from \"react\";\nimport DisplayErrors from '../utils/DisplayErrors'\nimport AuthForm from \"./AuthForm\";\nimport { getClaims, saveToken } from \"./handleJWT\";\nimport AuthenticationContext from \"./AuthenticationContext\";\nimport { useNavigate } from \"react-router-dom\";\n\nexport default function Register(){\n\n    const [errors, setErrors] = useState<string[]>([]);\n    const {update} = useContext(AuthenticationContext);\n    const history = useNavigate();\n\n    async function register(credentials: userCredentials){\n        try{\n            setErrors([]);\n            const response = await axios\n                .post<authenticationResponse>(`${urlAccounts}/create`, credentials);\n            saveToken(response.data);\n            update(getClaims());\n            history('/');\n        }\n        catch(error:any){\n            setErrors(error.response.data);\n        }\n    }\n\n    return (\n        <>\n            <h3>Register</h3>\n            <DisplayErrors errors={errors} />\n            <AuthForm\n            model={{email: '', password: ''}}\n            onSubmit={async values => await register(values)}\n            />\n        </>\n    )\n}"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,SAAQC,WAAW,QAAO,cAAc;AACxC,SAASC,UAAU,EAAEC,QAAQ,QAAQ,OAAO;AAC5C,OAAOC,aAAa,MAAM,wBAAwB;AAClD,OAAOC,QAAQ,MAAM,YAAY;AACjC,SAASC,SAAS,EAAEC,SAAS,QAAQ,aAAa;AAClD,OAAOC,qBAAqB,MAAM,yBAAyB;AAC3D,SAASC,WAAW,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAE/C,eAAe,SAASC,QAAQA,CAAA,EAAE;EAAAC,EAAA;EAE9B,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGd,QAAQ,CAAW,EAAE,CAAC;EAClD,MAAM;IAACe;EAAM,CAAC,GAAGhB,UAAU,CAACM,qBAAqB,CAAC;EAClD,MAAMW,OAAO,GAAGV,WAAW,CAAC,CAAC;EAE7B,eAAeW,QAAQA,CAACC,WAA4B,EAAC;IACjD,IAAG;MACCJ,SAAS,CAAC,EAAE,CAAC;MACb,MAAMK,QAAQ,GAAG,MAAMtB,KAAK,CACvBuB,IAAI,CAA0B,GAAEtB,WAAY,SAAQ,EAAEoB,WAAW,CAAC;MACvEd,SAAS,CAACe,QAAQ,CAACE,IAAI,CAAC;MACxBN,MAAM,CAACZ,SAAS,CAAC,CAAC,CAAC;MACnBa,OAAO,CAAC,GAAG,CAAC;IAChB,CAAC,CACD,OAAMM,KAAS,EAAC;MACZR,SAAS,CAACQ,KAAK,CAACH,QAAQ,CAACE,IAAI,CAAC;IAClC;EACJ;EAEA,oBACIb,OAAA,CAAAE,SAAA;IAAAa,QAAA,gBACIf,OAAA;MAAAe,QAAA,EAAI;IAAQ;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACjBnB,OAAA,CAACP,aAAa;MAACY,MAAM,EAAEA;IAAO;MAAAW,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eACjCnB,OAAA,CAACN,QAAQ;MACT0B,KAAK,EAAE;QAACC,KAAK,EAAE,EAAE;QAAEC,QAAQ,EAAE;MAAE,CAAE;MACjCC,QAAQ,EAAE,MAAMC,MAAM,IAAI,MAAMf,QAAQ,CAACe,MAAM;IAAE;MAAAR,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAChD,CAAC;EAAA,eACJ,CAAC;AAEX;AAACf,EAAA,CA9BuBD,QAAQ;EAAA,QAIZL,WAAW;AAAA;AAAA2B,EAAA,GAJPtB,QAAQ;AAAA,IAAAsB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}