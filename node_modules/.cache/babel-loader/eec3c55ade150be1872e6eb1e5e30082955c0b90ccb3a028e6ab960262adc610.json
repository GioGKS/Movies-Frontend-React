{"ast":null,"code":"var _jsxFileName = \"/Users/gio/Desktop/Project-Clone/Movies-Frontend-React/src/movies/MovieForm.tsx\",\n  _s = $RefreshSig$();\nimport { Form, Formik } from \"formik\";\nimport * as Yup from \"yup\";\nimport Button from \"../utils/Button\";\nimport { Link } from \"react-router-dom\";\nimport TextField from \"../forms/TextField\";\nimport ImageField from \"../forms/ImageField\";\nimport ChekboxField from \"../forms/CheckboxField\";\nimport DateField from \"../forms/DateField\";\nimport MultipleSelector from \"../forms/MultipleSelector\";\nimport { useState } from \"react\";\nimport TypeAheadActors from \"../forms/TypeAheadActors\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function MovieForm(props) {\n  _s();\n  const [selectedGenres, setSelectedGenres] = useState(mapToModel(props.selectedGenres));\n  const [nonSelectedGenres, setNonSelectedGenres] = useState(mapToModel(props.nonSelectedGenres));\n  const [selectedMovieTheaters, setSelectedMovieTheaters] = useState(mapToModel(props.selectedMovieTheaters));\n  const [nonSelectedMovieTheaters, setNonSelectedMovieTheaters] = useState(mapToModel(props.nonSelectedMovieTheaters));\n  const [selectedActors, setSelectedActors] = useState(props.selectedActors);\n  function mapToModel(items) {\n    return items.map(item => {\n      return {\n        key: item.id,\n        value: item.name\n      };\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(Formik, {\n    initialValues: props.model,\n    onSubmit: (values, actions) => {\n      values.genresIds = selectedGenres.map(item => item.key);\n      values.movieTheatersIds = selectedMovieTheaters.map(item => item.key);\n      values.actors = selectedActors;\n      props.onSubmit(values, actions);\n    },\n    validationSchema: Yup.object({\n      title: Yup.string().required(\"This field is required\").firstLetterUppercase()\n    }),\n    children: formikProps => /*#__PURE__*/_jsxDEV(Form, {\n      children: [/*#__PURE__*/_jsxDEV(TextField, {\n        displayName: \"Title\",\n        field: \"title\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(ChekboxField, {\n        displayName: \"In Theaters\",\n        field: \"inTheaters\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        displayName: \"Trailer\",\n        field: \"trailer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(DateField, {\n        displayName: \"Release Date\",\n        field: \"releaseDate\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(ImageField, {\n        displayName: \"Poster\",\n        field: \"poster\",\n        imageURL: props.model.posterURL\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(MultipleSelector, {\n        displayName: \"Genres\",\n        nonSelected: nonSelectedGenres,\n        selected: selectedGenres,\n        onChange: (selected, nonSelected) => {\n          setSelectedGenres(selected);\n          setNonSelectedGenres(nonSelected);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(MultipleSelector, {\n        displayName: \"Movie Theaters\",\n        nonSelected: nonSelectedMovieTheaters,\n        selected: selectedMovieTheaters,\n        onChange: (selected, nonSelected) => {\n          setSelectedMovieTheaters(selected);\n          setNonSelectedMovieTheaters(nonSelected);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(TypeAheadActors, {\n        displayName: \"Actors\",\n        actors: selectedActors,\n        onAdd: actors => {\n          setSelectedActors(actors);\n        },\n        onRemove: actor => {\n          const actors = selectedActors.filter(x => x !== actor);\n          setSelectedActors(actors);\n        },\n        listUI: actor => /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [actor.name, \" /\", \" \", /*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"Character\",\n            type: \"text\",\n            value: actor.character,\n            onChange: e => {\n              const index = selectedActors.findIndex(x => x.id === actor.id);\n              const actors = [...selectedActors];\n              actors[index].character = e.currentTarget.value;\n              setSelectedActors(actors);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        disabled: formikProps.isSubmitting,\n        type: \"submit\",\n        children: \"Save Changes\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        className: \"btn btn-secondary\",\n        to: \"/genres\",\n        children: \"Cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n}\n_s(MovieForm, \"VA4OEwla848LQWicqcOCmMppDXQ=\");\n_c = MovieForm;\nvar _c;\n$RefreshReg$(_c, \"MovieForm\");","map":{"version":3,"names":["Form","Formik","Yup","Button","Link","TextField","ImageField","ChekboxField","DateField","MultipleSelector","useState","TypeAheadActors","jsxDEV","_jsxDEV","Fragment","_Fragment","MovieForm","props","_s","selectedGenres","setSelectedGenres","mapToModel","nonSelectedGenres","setNonSelectedGenres","selectedMovieTheaters","setSelectedMovieTheaters","nonSelectedMovieTheaters","setNonSelectedMovieTheaters","selectedActors","setSelectedActors","items","map","item","key","id","value","name","initialValues","model","onSubmit","values","actions","genresIds","movieTheatersIds","actors","validationSchema","object","title","string","required","firstLetterUppercase","children","formikProps","displayName","field","fileName","_jsxFileName","lineNumber","columnNumber","imageURL","posterURL","nonSelected","selected","onChange","onAdd","onRemove","actor","filter","x","listUI","placeholder","type","character","e","index","findIndex","currentTarget","disabled","isSubmitting","className","to","_c","$RefreshReg$"],"sources":["/Users/gio/Desktop/Project-Clone/Movies-Frontend-React/src/movies/MovieForm.tsx"],"sourcesContent":["import { Form, Formik, FormikHelpers } from \"formik\";\nimport { movieCreationDTO } from \"./movies.model\";\nimport * as Yup from \"yup\";\nimport Button from \"../utils/Button\";\nimport { Link } from \"react-router-dom\";\nimport TextField from \"../forms/TextField\";\nimport ImageField from \"../forms/ImageField\";\nimport ChekboxField from \"../forms/CheckboxField\";\nimport DateField from \"../forms/DateField\";\nimport MultipleSelector, {\n  multipleSelectorModel,\n} from \"../forms/MultipleSelector\";\nimport { useState } from \"react\";\nimport { genreDTO } from \"../genres/genres.mode\";\nimport { movieTheaterDTO } from \"../movietheaters/movieTheater.model\";\nimport TypeAheadActors from \"../forms/TypeAheadActors\";\nimport { actorMovieDTO } from \"../actors/actors.mode\";\nimport ActorForm from \"../actors/ActorForm\";\n\nexport default function MovieForm(props: movieFormProps) {\n  const [selectedGenres, setSelectedGenres] = useState(\n    mapToModel(props.selectedGenres)\n  );\n  const [nonSelectedGenres, setNonSelectedGenres] = useState(\n    mapToModel(props.nonSelectedGenres)\n  );\n\n  const [selectedMovieTheaters, setSelectedMovieTheaters] = useState(\n    mapToModel(props.selectedMovieTheaters)\n  );\n  const [nonSelectedMovieTheaters, setNonSelectedMovieTheaters] = useState(\n    mapToModel(props.nonSelectedMovieTheaters)\n  );\n\n  const [selectedActors, setSelectedActors] = useState(props.selectedActors);\n\n  function mapToModel(\n    items: { id: number; name: string }[]\n  ): multipleSelectorModel[] {\n    return items.map((item) => {\n      return { key: item.id, value: item.name };\n    });\n  }\n\n  return (\n    <Formik\n      initialValues={props.model}\n      onSubmit={(values, actions) => {\n        values.genresIds = selectedGenres.map((item) => item.key);\n        values.movieTheatersIds = selectedMovieTheaters.map((item) => item.key);\n        values.actors = selectedActors;\n        props.onSubmit(values, actions);\n      }}\n      validationSchema={Yup.object({\n        title: Yup.string()\n          .required(\"This field is required\")\n          .firstLetterUppercase(),\n      })}\n    >\n      {(formikProps) => (\n        <Form>\n          <TextField displayName=\"Title\" field=\"title\" />\n          <ChekboxField displayName=\"In Theaters\" field=\"inTheaters\" />\n          <TextField displayName=\"Trailer\" field=\"trailer\" />\n          <DateField displayName=\"Release Date\" field=\"releaseDate\" />\n          <ImageField\n            displayName=\"Poster\"\n            field=\"poster\"\n            imageURL={props.model.posterURL}\n          />\n\n          <MultipleSelector\n            displayName=\"Genres\"\n            nonSelected={nonSelectedGenres}\n            selected={selectedGenres}\n            onChange={(selected, nonSelected) => {\n              setSelectedGenres(selected);\n              setNonSelectedGenres(nonSelected);\n            }}\n          />\n\n          <MultipleSelector\n            displayName=\"Movie Theaters\"\n            nonSelected={nonSelectedMovieTheaters}\n            selected={selectedMovieTheaters}\n            onChange={(selected, nonSelected) => {\n              setSelectedMovieTheaters(selected);\n              setNonSelectedMovieTheaters(nonSelected);\n            }}\n          />\n\n          <TypeAheadActors\n            displayName=\"Actors\"\n            actors={selectedActors}\n            onAdd={(actors) => {\n              setSelectedActors(actors);\n            }}\n            onRemove={(actor) => {\n              const actors = selectedActors.filter((x) => x !== actor);\n              setSelectedActors(actors);\n            }}\n            listUI={(actor: actorMovieDTO) => (\n              <>\n                {actor.name} /{\" \"}\n                <input\n                  placeholder=\"Character\"\n                  type=\"text\"\n                  value={actor.character}\n                  onChange={(e) => {\n                    const index = selectedActors.findIndex(\n                      (x) => x.id === actor.id\n                    );\n\n                    const actors = [...selectedActors];\n                    actors[index].character = e.currentTarget.value;\n                    setSelectedActors(actors);\n                  }}\n                ></input>\n              </>\n            )}\n          />\n\n          <Button disabled={formikProps.isSubmitting} type=\"submit\">\n            Save Changes\n          </Button>\n          <Link className=\"btn btn-secondary\" to=\"/genres\">\n            Cancel\n          </Link>\n        </Form>\n      )}\n    </Formik>\n  );\n}\n\ninterface movieFormProps {\n  model: movieCreationDTO;\n  onSubmit(\n    values: movieCreationDTO,\n    actions: FormikHelpers<movieCreationDTO>\n  ): void;\n  selectedGenres: genreDTO[];\n  nonSelectedGenres: genreDTO[];\n  selectedMovieTheaters: movieTheaterDTO[];\n  nonSelectedMovieTheaters: movieTheaterDTO[];\n  selectedActors: actorMovieDTO[];\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}